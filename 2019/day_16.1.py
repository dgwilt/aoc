#!/usr/bin/env python3 

data = [100,"59775675999083203307460316227239534744196788252810996056267313158415747954523514450220630777434694464147859581700598049220155996171361500188470573584309935232530483361639265796594588423475377664322506657596419440442622029687655170723364080344399753761821561397734310612361082481766777063437812858875338922334089288117184890884363091417446200960308625363997089394409607215164553325263177638484872071167142885096660905078567883997320316971939560903959842723210017598426984179521683810628956529638813221927079630736290924180307474765551066444888559156901159193212333302170502387548724998221103376187508278234838899434485116047387731626309521488967864391"]

tests = [[4,"12345678"],[100,"80871224585914546619083218645595"],[100,"19617804207202209144916044189917"]]

def phase(width,nums,l):
    stride = 4*width
    nextnum = 0
    for i in range(width-1,l,stride):
        nextnum += sum(nums[i:i+width])

    for i in range(3*width-1,l,stride):
        nextnum -= sum(nums[i:i+width])

    return abs(nextnum)%10

def run(data):
    phases, nums = data        
    nums = [int(i) for i in nums]
    l = len(nums)
    for _ in range(phases):
        nums = [phase(width,nums,l) for width in range(1,l+1)]

    return "".join([str(i) for i in nums[:8]])

for test in [t for t in tests if t]:
    try: print(run(test))
    except Exception as e: 
        print(f"Error: {e}")

print(run(data))