#!/usr/bin/env python3 
from itertools import product
from sys import argv
from aoc import AocDay
import turtle

class AocDay14(AocDay):

    ROCK = "#"
    SAND = "o"
    VISUALIZE = False

    def fall(self, world, pos):
        x,y = pos
        y += 1
        for dx in (0,-1,1): # Down, left, right
            if (nextpos := (x+dx,y)) not in world: return nextpos
        world[pos] = AocDay14.SAND # Did not fall, so put sand in world
        if AocDay14.VISUALIZE:
            self.pen.setposition(pos[0],-pos[1])
            self.pen.stamp()
        return pos

    def build_world(self,data,floor=False):
        incrange = lambda p: range(min(p),max(p)+1)
        world = {}
        lines = set()
        for path in data.splitlines():
            points = [[int(i) for i in point.split(",")] for point in path.split(" -> ")]
            frx,fry = points[0]
            for tox,toy in points[1:]:
                lines.add((frx,fry,tox,toy))
                for x,y in product(incrange((frx,tox)),incrange((fry,toy))):
                    world[(x,y)] = AocDay14.ROCK
                frx,fry = tox,toy

        if AocDay14.VISUALIZE:
            self.pen = turtle.Turtle()
            turtle.register_shape("dot.gif")
            xs = [x for x,_ in world.keys()]
            ys = [y for _,y in world.keys()]
            turtle.screensize(max(xs) - min(xs) + 1, max(ys) - min(ys) + 1)
            turtle.setworldcoordinates(min(xs),-max(ys),max(xs),0)
            turtle.tracer(0)
            self.pen.shape("dot.gif")
            self.pen.hideturtle()
            self.pen.width(3)

            for x1,y1,x2,y2 in sorted(lines):
                self.pen.penup()
                self.pen.setposition(x1,-y1)
                self.pen.pendown()
                self.pen.setposition(x2,-y2)
            self.pen.penup()
            turtle.update()

        if floor:
            INFINITY = 1000 # An approximation
            xs = [x for x,_ in world.keys()]
            floor_y = max([y for _,y in world.keys()]) + 2
            for x in range(min(xs)-INFINITY,max(xs)+INFINITY):
                world[(x,floor_y)] = AocDay14.ROCK

        return world

    def numsand(self,world):
        return len([v for v in world.values() if v == AocDay14.SAND])

    def run_silver(self,data):
        world = self.build_world(data)
        maxy = max([y for _,y in world.keys()])
        while True:
            if AocDay14.VISUALIZE: turtle.update()
            pos = (500,0)
            while (nextpos := self.fall(world,pos)) != pos:
                if nextpos[1] > maxy:
                    if AocDay14.VISUALIZE: turtle.done()
                    return self.numsand(world)
                pos = nextpos

    def run_gold(self,data):
        world = self.build_world(data,floor=True)
        while True:
            if AocDay14.VISUALIZE: turtle.update()
            pos = (500,0)
            if pos in world:
                if AocDay14.VISUALIZE: turtle.done()
                return self.numsand(world)
            while (nextpos := self.fall(world,pos)) != pos:
                pos = nextpos

if __name__ == "__main__":

    silver_tests = ["""498,4 -> 498,6 -> 496,6
503,4 -> 502,4 -> 502,9 -> 494,9
""",""""""]

    gold_tests = ["""""",""""""]

    data = """541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
528,67 -> 533,67
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
496,23 -> 496,16 -> 496,23 -> 498,23 -> 498,16 -> 498,23 -> 500,23 -> 500,17 -> 500,23 -> 502,23 -> 502,16 -> 502,23
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
514,62 -> 519,62
509,56 -> 514,56
497,36 -> 497,30 -> 497,36 -> 499,36 -> 499,27 -> 499,36 -> 501,36 -> 501,33 -> 501,36 -> 503,36 -> 503,27 -> 503,36 -> 505,36 -> 505,28 -> 505,36 -> 507,36 -> 507,35 -> 507,36
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
574,133 -> 574,137 -> 567,137 -> 567,141 -> 584,141 -> 584,137 -> 576,137 -> 576,133
524,60 -> 529,60
574,133 -> 574,137 -> 567,137 -> 567,141 -> 584,141 -> 584,137 -> 576,137 -> 576,133
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
506,39 -> 506,43 -> 499,43 -> 499,51 -> 514,51 -> 514,43 -> 510,43 -> 510,39
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
503,60 -> 508,60
567,115 -> 571,115
556,151 -> 556,153 -> 548,153 -> 548,157 -> 561,157 -> 561,153 -> 560,153 -> 560,151
497,36 -> 497,30 -> 497,36 -> 499,36 -> 499,27 -> 499,36 -> 501,36 -> 501,33 -> 501,36 -> 503,36 -> 503,27 -> 503,36 -> 505,36 -> 505,28 -> 505,36 -> 507,36 -> 507,35 -> 507,36
525,69 -> 530,69
557,83 -> 557,85 -> 550,85 -> 550,89 -> 569,89 -> 569,85 -> 561,85 -> 561,83
574,133 -> 574,137 -> 567,137 -> 567,141 -> 584,141 -> 584,137 -> 576,137 -> 576,133
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
496,23 -> 496,16 -> 496,23 -> 498,23 -> 498,16 -> 498,23 -> 500,23 -> 500,17 -> 500,23 -> 502,23 -> 502,16 -> 502,23
564,108 -> 564,107 -> 564,108 -> 566,108 -> 566,101 -> 566,108 -> 568,108 -> 568,100 -> 568,108
496,23 -> 496,16 -> 496,23 -> 498,23 -> 498,16 -> 498,23 -> 500,23 -> 500,17 -> 500,23 -> 502,23 -> 502,16 -> 502,23
556,151 -> 556,153 -> 548,153 -> 548,157 -> 561,157 -> 561,153 -> 560,153 -> 560,151
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
497,36 -> 497,30 -> 497,36 -> 499,36 -> 499,27 -> 499,36 -> 501,36 -> 501,33 -> 501,36 -> 503,36 -> 503,27 -> 503,36 -> 505,36 -> 505,28 -> 505,36 -> 507,36 -> 507,35 -> 507,36
556,151 -> 556,153 -> 548,153 -> 548,157 -> 561,157 -> 561,153 -> 560,153 -> 560,151
561,115 -> 565,115
564,144 -> 568,144
497,36 -> 497,30 -> 497,36 -> 499,36 -> 499,27 -> 499,36 -> 501,36 -> 501,33 -> 501,36 -> 503,36 -> 503,27 -> 503,36 -> 505,36 -> 505,28 -> 505,36 -> 507,36 -> 507,35 -> 507,36
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
497,36 -> 497,30 -> 497,36 -> 499,36 -> 499,27 -> 499,36 -> 501,36 -> 501,33 -> 501,36 -> 503,36 -> 503,27 -> 503,36 -> 505,36 -> 505,28 -> 505,36 -> 507,36 -> 507,35 -> 507,36
556,151 -> 556,153 -> 548,153 -> 548,157 -> 561,157 -> 561,153 -> 560,153 -> 560,151
557,83 -> 557,85 -> 550,85 -> 550,89 -> 569,89 -> 569,85 -> 561,85 -> 561,83
496,23 -> 496,16 -> 496,23 -> 498,23 -> 498,16 -> 498,23 -> 500,23 -> 500,17 -> 500,23 -> 502,23 -> 502,16 -> 502,23
567,146 -> 571,146
531,65 -> 536,65
528,62 -> 533,62
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
574,133 -> 574,137 -> 567,137 -> 567,141 -> 584,141 -> 584,137 -> 576,137 -> 576,133
568,95 -> 571,95 -> 571,94
497,36 -> 497,30 -> 497,36 -> 499,36 -> 499,27 -> 499,36 -> 501,36 -> 501,33 -> 501,36 -> 503,36 -> 503,27 -> 503,36 -> 505,36 -> 505,28 -> 505,36 -> 507,36 -> 507,35 -> 507,36
497,36 -> 497,30 -> 497,36 -> 499,36 -> 499,27 -> 499,36 -> 501,36 -> 501,33 -> 501,36 -> 503,36 -> 503,27 -> 503,36 -> 505,36 -> 505,28 -> 505,36 -> 507,36 -> 507,35 -> 507,36
497,36 -> 497,30 -> 497,36 -> 499,36 -> 499,27 -> 499,36 -> 501,36 -> 501,33 -> 501,36 -> 503,36 -> 503,27 -> 503,36 -> 505,36 -> 505,28 -> 505,36 -> 507,36 -> 507,35 -> 507,36
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
557,83 -> 557,85 -> 550,85 -> 550,89 -> 569,89 -> 569,85 -> 561,85 -> 561,83
543,72 -> 543,73 -> 554,73 -> 554,72
506,39 -> 506,43 -> 499,43 -> 499,51 -> 514,51 -> 514,43 -> 510,43 -> 510,39
555,115 -> 559,115
496,23 -> 496,16 -> 496,23 -> 498,23 -> 498,16 -> 498,23 -> 500,23 -> 500,17 -> 500,23 -> 502,23 -> 502,16 -> 502,23
506,39 -> 506,43 -> 499,43 -> 499,51 -> 514,51 -> 514,43 -> 510,43 -> 510,39
536,75 -> 536,76 -> 547,76 -> 547,75
521,62 -> 526,62
564,108 -> 564,107 -> 564,108 -> 566,108 -> 566,101 -> 566,108 -> 568,108 -> 568,100 -> 568,108
574,133 -> 574,137 -> 567,137 -> 567,141 -> 584,141 -> 584,137 -> 576,137 -> 576,133
516,56 -> 521,56
564,108 -> 564,107 -> 564,108 -> 566,108 -> 566,101 -> 566,108 -> 568,108 -> 568,100 -> 568,108
543,72 -> 543,73 -> 554,73 -> 554,72
574,133 -> 574,137 -> 567,137 -> 567,141 -> 584,141 -> 584,137 -> 576,137 -> 576,133
564,113 -> 568,113
506,39 -> 506,43 -> 499,43 -> 499,51 -> 514,51 -> 514,43 -> 510,43 -> 510,39
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
496,23 -> 496,16 -> 496,23 -> 498,23 -> 498,16 -> 498,23 -> 500,23 -> 500,17 -> 500,23 -> 502,23 -> 502,16 -> 502,23
557,83 -> 557,85 -> 550,85 -> 550,89 -> 569,89 -> 569,85 -> 561,85 -> 561,83
558,113 -> 562,113
497,36 -> 497,30 -> 497,36 -> 499,36 -> 499,27 -> 499,36 -> 501,36 -> 501,33 -> 501,36 -> 503,36 -> 503,27 -> 503,36 -> 505,36 -> 505,28 -> 505,36 -> 507,36 -> 507,35 -> 507,36
506,39 -> 506,43 -> 499,43 -> 499,51 -> 514,51 -> 514,43 -> 510,43 -> 510,39
497,36 -> 497,30 -> 497,36 -> 499,36 -> 499,27 -> 499,36 -> 501,36 -> 501,33 -> 501,36 -> 503,36 -> 503,27 -> 503,36 -> 505,36 -> 505,28 -> 505,36 -> 507,36 -> 507,35 -> 507,36
568,95 -> 571,95 -> 571,94
497,36 -> 497,30 -> 497,36 -> 499,36 -> 499,27 -> 499,36 -> 501,36 -> 501,33 -> 501,36 -> 503,36 -> 503,27 -> 503,36 -> 505,36 -> 505,28 -> 505,36 -> 507,36 -> 507,35 -> 507,36
510,60 -> 515,60
497,36 -> 497,30 -> 497,36 -> 499,36 -> 499,27 -> 499,36 -> 501,36 -> 501,33 -> 501,36 -> 503,36 -> 503,27 -> 503,36 -> 505,36 -> 505,28 -> 505,36 -> 507,36 -> 507,35 -> 507,36
557,83 -> 557,85 -> 550,85 -> 550,89 -> 569,89 -> 569,85 -> 561,85 -> 561,83
570,117 -> 574,117
497,36 -> 497,30 -> 497,36 -> 499,36 -> 499,27 -> 499,36 -> 501,36 -> 501,33 -> 501,36 -> 503,36 -> 503,27 -> 503,36 -> 505,36 -> 505,28 -> 505,36 -> 507,36 -> 507,35 -> 507,36
507,62 -> 512,62
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
556,151 -> 556,153 -> 548,153 -> 548,157 -> 561,157 -> 561,153 -> 560,153 -> 560,151
564,108 -> 564,107 -> 564,108 -> 566,108 -> 566,101 -> 566,108 -> 568,108 -> 568,100 -> 568,108
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
506,39 -> 506,43 -> 499,43 -> 499,51 -> 514,51 -> 514,43 -> 510,43 -> 510,39
564,108 -> 564,107 -> 564,108 -> 566,108 -> 566,101 -> 566,108 -> 568,108 -> 568,100 -> 568,108
497,36 -> 497,30 -> 497,36 -> 499,36 -> 499,27 -> 499,36 -> 501,36 -> 501,33 -> 501,36 -> 503,36 -> 503,27 -> 503,36 -> 505,36 -> 505,28 -> 505,36 -> 507,36 -> 507,35 -> 507,36
561,111 -> 565,111
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
496,23 -> 496,16 -> 496,23 -> 498,23 -> 498,16 -> 498,23 -> 500,23 -> 500,17 -> 500,23 -> 502,23 -> 502,16 -> 502,23
558,148 -> 562,148
513,58 -> 518,58
564,108 -> 564,107 -> 564,108 -> 566,108 -> 566,101 -> 566,108 -> 568,108 -> 568,100 -> 568,108
558,117 -> 562,117
557,83 -> 557,85 -> 550,85 -> 550,89 -> 569,89 -> 569,85 -> 561,85 -> 561,83
546,79 -> 546,80 -> 558,80
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
536,75 -> 536,76 -> 547,76 -> 547,75
500,62 -> 505,62
506,39 -> 506,43 -> 499,43 -> 499,51 -> 514,51 -> 514,43 -> 510,43 -> 510,39
556,151 -> 556,153 -> 548,153 -> 548,157 -> 561,157 -> 561,153 -> 560,153 -> 560,151
520,58 -> 525,58
535,67 -> 540,67
574,133 -> 574,137 -> 567,137 -> 567,141 -> 584,141 -> 584,137 -> 576,137 -> 576,133
497,36 -> 497,30 -> 497,36 -> 499,36 -> 499,27 -> 499,36 -> 501,36 -> 501,33 -> 501,36 -> 503,36 -> 503,27 -> 503,36 -> 505,36 -> 505,28 -> 505,36 -> 507,36 -> 507,35 -> 507,36
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
546,79 -> 546,80 -> 558,80
564,108 -> 564,107 -> 564,108 -> 566,108 -> 566,101 -> 566,108 -> 568,108 -> 568,100 -> 568,108
543,72 -> 543,73 -> 554,73 -> 554,72
564,117 -> 568,117
497,36 -> 497,30 -> 497,36 -> 499,36 -> 499,27 -> 499,36 -> 501,36 -> 501,33 -> 501,36 -> 503,36 -> 503,27 -> 503,36 -> 505,36 -> 505,28 -> 505,36 -> 507,36 -> 507,35 -> 507,36
497,36 -> 497,30 -> 497,36 -> 499,36 -> 499,27 -> 499,36 -> 501,36 -> 501,33 -> 501,36 -> 503,36 -> 503,27 -> 503,36 -> 505,36 -> 505,28 -> 505,36 -> 507,36 -> 507,35 -> 507,36
536,75 -> 536,76 -> 547,76 -> 547,75
557,83 -> 557,85 -> 550,85 -> 550,89 -> 569,89 -> 569,85 -> 561,85 -> 561,83
496,23 -> 496,16 -> 496,23 -> 498,23 -> 498,16 -> 498,23 -> 500,23 -> 500,17 -> 500,23 -> 502,23 -> 502,16 -> 502,23
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
539,69 -> 544,69
552,117 -> 556,117
556,151 -> 556,153 -> 548,153 -> 548,157 -> 561,157 -> 561,153 -> 560,153 -> 560,151
496,23 -> 496,16 -> 496,23 -> 498,23 -> 498,16 -> 498,23 -> 500,23 -> 500,17 -> 500,23 -> 502,23 -> 502,16 -> 502,23
561,146 -> 565,146
570,148 -> 574,148
496,23 -> 496,16 -> 496,23 -> 498,23 -> 498,16 -> 498,23 -> 500,23 -> 500,17 -> 500,23 -> 502,23 -> 502,16 -> 502,23
496,23 -> 496,16 -> 496,23 -> 498,23 -> 498,16 -> 498,23 -> 500,23 -> 500,17 -> 500,23 -> 502,23 -> 502,16 -> 502,23
532,69 -> 537,69
564,108 -> 564,107 -> 564,108 -> 566,108 -> 566,101 -> 566,108 -> 568,108 -> 568,100 -> 568,108
512,54 -> 517,54
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
517,60 -> 522,60
564,148 -> 568,148
506,58 -> 511,58
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130
541,130 -> 541,122 -> 541,130 -> 543,130 -> 543,123 -> 543,130 -> 545,130 -> 545,124 -> 545,130 -> 547,130 -> 547,122 -> 547,130 -> 549,130 -> 549,120 -> 549,130 -> 551,130 -> 551,121 -> 551,130 -> 553,130 -> 553,128 -> 553,130 -> 555,130 -> 555,128 -> 555,130 -> 557,130 -> 557,126 -> 557,130 -> 559,130 -> 559,125 -> 559,130"""

    answer = AocDay14(data,silver_tests,gold_tests,argv)

    print(answer)
